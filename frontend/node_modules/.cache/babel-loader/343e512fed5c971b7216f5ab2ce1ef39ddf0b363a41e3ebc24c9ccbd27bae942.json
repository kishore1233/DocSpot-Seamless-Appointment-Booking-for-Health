{"ast":null,"code":"import _objectSpread from\"C:/Users/Dell/Downloads/docspot-appointment-booking/docspot-appointment-booking/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';import toast from'../../utils/toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({email:'',password:''});const[loading,setLoading]=useState(false);const handleChange=e=>setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const res=await axios.post('/api/user/login',formData);if(res.data.success){const{user,token}=res.data;localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(user));axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);toast.success(\"Welcome back, \".concat(user.name,\"!\"));if(user.type==='admin')return navigate('/admin/dashboard');if(user.isdoctor)return navigate('/doctor/dashboard');navigate('/user/dashboard');}}catch(err){var _err$response,_err$response$data;toast.error(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Invalid email or password');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid-bg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-illustration\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',position:'relative',zIndex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'7rem',marginBottom:'1.5rem',filter:'drop-shadow(0 0 40px rgba(14,165,233,0.4))'},className:\"float-shape\",children:\"\\uD83C\\uDFE5\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:'Syne,sans-serif',fontSize:'1.6rem',fontWeight:700,color:'var(--text-primary)',marginBottom:'0.7rem'},children:\"Healthcare at your fingertips\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)',fontSize:'0.9rem',lineHeight:1.7,maxWidth:340},children:\"Book appointments with top doctors, manage your health records, and stay on top of your wellness journey.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.8rem',marginTop:'2rem',alignItems:'center'},children:['Real-time appointment booking','Verified specialist doctors','Instant notifications'].map((f,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.6rem',background:'rgba(255,255,255,0.05)',border:'1px solid rgba(255,255,255,0.08)',borderRadius:100,padding:'0.5rem 1.2rem',fontSize:'0.82rem',color:'var(--text-secondary)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'var(--primary)'},children:\"\\u2713\"}),\" \",f]},i))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-panel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-card\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"auth-title\",children:\"Welcome back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-subtitle\",children:\"Sign in to your DocSpot account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-3d\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-3d\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-3d\",type:\"email\",name:\"email\",placeholder:\"you@example.com\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-3d\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-3d\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-3d\",type:\"password\",name:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-3d btn-primary-3d\",type:\"submit\",disabled:loading,style:{width:'100%',justifyContent:'center',fontSize:'0.95rem',padding:'0.85rem',marginTop:'0.5rem'},children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-3d\",style:{width:16,height:16,borderWidth:2}}),\" Signing in\\u2026\"]}):'Sign in ‚Üí'})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"auth-divider\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-footer-link\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Create one\"})]})]})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","navigate","formData","setFormData","email","password","loading","setLoading","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","post","data","success","user","token","localStorage","setItem","JSON","stringify","defaults","headers","common","concat","type","isdoctor","err","_err$response","_err$response$data","error","response","message","children","className","style","textAlign","position","zIndex","fontSize","marginBottom","filter","fontFamily","fontWeight","color","lineHeight","maxWidth","display","flexDirection","gap","marginTop","alignItems","map","f","i","background","border","borderRadius","padding","onSubmit","placeholder","onChange","required","disabled","width","justifyContent","height","borderWidth","to"],"sources":["C:/Users/Dell/Downloads/docspot-appointment-booking/docspot-appointment-booking/frontend/src/components/common/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport toast from '../../utils/toast';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({ email: '', password: '' });\n  const [loading, setLoading]   = useState(false);\n\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await axios.post('/api/user/login', formData);\n      if (res.data.success) {\n        const { user, token } = res.data;\n        localStorage.setItem('token', token);\n        localStorage.setItem('user', JSON.stringify(user));\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n        toast.success(`Welcome back, ${user.name}!`);\n        if (user.type === 'admin')  return navigate('/admin/dashboard');\n        if (user.isdoctor)          return navigate('/doctor/dashboard');\n        navigate('/user/dashboard');\n      }\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Invalid email or password');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"grid-bg\" />\n      <div className=\"auth-page\">\n        <div className=\"auth-illustration\">\n          <div style={{ textAlign:'center', position:'relative', zIndex:1 }}>\n            <div style={{ fontSize:'7rem', marginBottom:'1.5rem', filter:'drop-shadow(0 0 40px rgba(14,165,233,0.4))' }} className=\"float-shape\">üè•</div>\n            <h2 style={{ fontFamily:'Syne,sans-serif', fontSize:'1.6rem', fontWeight:700, color:'var(--text-primary)', marginBottom:'0.7rem' }}>\n              Healthcare at your fingertips\n            </h2>\n            <p style={{ color:'var(--text-secondary)', fontSize:'0.9rem', lineHeight:1.7, maxWidth:340 }}>\n              Book appointments with top doctors, manage your health records, and stay on top of your wellness journey.\n            </p>\n            <div style={{ display:'flex', flexDirection:'column', gap:'0.8rem', marginTop:'2rem', alignItems:'center' }}>\n              {['Real-time appointment booking','Verified specialist doctors','Instant notifications'].map((f,i) => (\n                <div key={i} style={{ display:'flex', alignItems:'center', gap:'0.6rem', background:'rgba(255,255,255,0.05)', border:'1px solid rgba(255,255,255,0.08)', borderRadius:100, padding:'0.5rem 1.2rem', fontSize:'0.82rem', color:'var(--text-secondary)' }}>\n                  <span style={{ color:'var(--primary)' }}>‚úì</span> {f}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"auth-panel\">\n          <div className=\"auth-form-card\">\n            <h1 className=\"auth-title\">Welcome back</h1>\n            <p className=\"auth-subtitle\">Sign in to your DocSpot account</p>\n\n            <form onSubmit={handleSubmit}>\n              <div className=\"form-group-3d\">\n                <label className=\"label-3d\">Email address</label>\n                <input className=\"input-3d\" type=\"email\" name=\"email\" placeholder=\"you@example.com\" value={formData.email} onChange={handleChange} required />\n              </div>\n              <div className=\"form-group-3d\">\n                <label className=\"label-3d\">Password</label>\n                <input className=\"input-3d\" type=\"password\" name=\"password\" placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\" value={formData.password} onChange={handleChange} required />\n              </div>\n              <button className=\"btn-3d btn-primary-3d\" type=\"submit\" disabled={loading}\n                style={{ width:'100%', justifyContent:'center', fontSize:'0.95rem', padding:'0.85rem', marginTop:'0.5rem' }}>\n                {loading ? <><span className=\"spinner-3d\" style={{width:16,height:16,borderWidth:2}} /> Signing in‚Ä¶</> : 'Sign in ‚Üí'}\n              </button>\n            </form>\n\n            <hr className=\"auth-divider\" />\n            <p className=\"auth-footer-link\">Don't have an account? <Link to=\"/register\">Create one</Link></p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}