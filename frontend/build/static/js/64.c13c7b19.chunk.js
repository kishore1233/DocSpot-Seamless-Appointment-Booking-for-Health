"use strict";(self.webpackChunkdocspot_frontend=self.webpackChunkdocspot_frontend||[]).push([[64],{64(e,t,a){a.r(t),a.d(t,{default:()=>c});var r=a(43),n=a(722),s=a(457),o=a(291),i=a(233),l=a(579);const d=e=>(0,l.jsx)("span",{className:"badge-3d ".concat({pending:"badge-pending",approved:"badge-approved",rejected:"badge-rejected",cancelled:"badge-cancelled"}[e]||"badge-pending"),children:e}),c=()=>{const[e,t]=(0,r.useState)({users:[],doctors:[],appointments:[]}),[a,c]=(0,r.useState)(!0),[h,p]=(0,r.useState)("appointments"),[m,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{g()},[]);const g=async()=>{try{const e=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(e)},[r,s,o]=await Promise.all([n.A.get("/api/admin/users",{headers:a}),n.A.get("/api/admin/doctors",{headers:a}),n.A.get("/api/admin/appointments",{headers:a})]);t({users:r.data.data,doctors:s.data.data,appointments:o.data.data})}catch(e){s.A.error("Failed to load data")}finally{c(!1)}},{users:b,doctors:u,appointments:j}=e,v=u.filter(e=>"pending"===e.status),f=[{key:"appointments",label:"Appointments",count:j.length},{key:"doctors",label:"Doctors",count:u.length},{key:"users",label:"Users",count:b.length}];return(0,l.jsxs)("div",{className:"dashboard-layout",children:[(0,l.jsx)(i.A,{role:"admin",notifCount:v.length}),(0,l.jsxs)("main",{className:"dashboard-main",children:[(0,l.jsxs)("div",{className:"dashboard-header",children:[(0,l.jsx)("div",{className:"dashboard-greeting",children:"Admin Dashboard \ud83d\udee1\ufe0f"}),(0,l.jsx)("div",{className:"dashboard-subline",children:"Platform overview and management"})]}),(0,l.jsx)("div",{className:"stats-row",children:[{icon:"\ud83d\udc65",val:b.length,label:"Total Users",cls:"blue"},{icon:"\ud83e\ude7a",val:u.filter(e=>"approved"===e.status).length,label:"Active Doctors",cls:"teal"},{icon:"\ud83d\udcc5",val:j.length,label:"Appointments",cls:"purple"},{icon:"\u23f3",val:v.length,label:"Pending Approvals",cls:"pink"}].map(e=>(0,l.jsxs)("div",{className:"stat-card-3d",children:[(0,l.jsx)("div",{className:"stat-card-icon ".concat(e.cls),children:e.icon}),(0,l.jsx)("div",{className:"stat-card-val",children:e.val}),(0,l.jsx)("div",{className:"stat-card-lbl",children:e.label})]},e.label))}),v.length>0&&(0,l.jsxs)("div",{style:{background:"rgba(245,158,11,0.08)",border:"1px solid rgba(245,158,11,0.25)",borderRadius:12,padding:"1rem 1.4rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.88rem",color:"var(--warning)"},children:["\u26a0\ufe0f ",(0,l.jsx)("strong",{children:v.length})," doctor application",v.length>1?"s":""," waiting for approval.",(0,l.jsx)("button",{className:"btn-3d btn-secondary-3d btn-sm-3d",style:{marginLeft:"auto"},onClick:()=>p("doctors"),children:"Review \u2192"})]}),(0,l.jsx)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"1px solid var(--border)",paddingBottom:"0.5rem"},children:f.map(e=>(0,l.jsxs)("button",{onClick:()=>p(e.key),style:{padding:"0.5rem 1.2rem",border:"none",cursor:"pointer",fontFamily:"DM Sans,sans-serif",fontSize:"0.88rem",fontWeight:500,transition:"all 0.2s",borderRadius:"8px 8px 0 0",background:h===e.key?"rgba(14,165,233,0.12)":"transparent",color:h===e.key?"var(--primary)":"var(--text-secondary)",borderBottom:h===e.key?"2px solid var(--primary)":"2px solid transparent"},children:[e.label," ",(0,l.jsx)("span",{style:{marginLeft:"0.4rem",background:"rgba(255,255,255,0.08)",borderRadius:100,padding:"0.05rem 0.45rem",fontSize:"0.72rem"},children:e.count})]},e.key))}),a?(0,l.jsx)("div",{className:"loading-center",children:(0,l.jsx)("div",{className:"spinner-3d"})}):(0,l.jsxs)("div",{className:"glass-card",style:{padding:"1.5rem",overflowX:"auto"},children:["appointments"===h&&(0,l.jsxs)("table",{className:"table-3d",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"ID"}),(0,l.jsx)("th",{children:"Patient"}),(0,l.jsx)("th",{children:"Doctor"}),(0,l.jsx)("th",{children:"Date"}),(0,l.jsx)("th",{children:"Status"})]})}),(0,l.jsxs)("tbody",{children:[0===j.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"No appointments yet"})}),j.map(e=>{var t,a;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{fontFamily:"monospace",fontSize:"0.72rem",color:"var(--text-muted)",maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e._id}),(0,l.jsx)("td",{style:{color:"var(--text-primary)",fontWeight:500},children:(null===(t=e.userInfo)||void 0===t?void 0:t.name)||"\u2014"}),(0,l.jsxs)("td",{children:["Dr. ",(null===(a=e.doctorInfo)||void 0===a?void 0:a.fullname)||"\u2014"]}),(0,l.jsx)("td",{style:{whiteSpace:"nowrap"},children:isNaN(new Date(e.date))?e.date:(0,o.IM)(e.date)}),(0,l.jsx)("td",{children:d(e.status)})]},e._id)})]})]}),"doctors"===h&&(0,l.jsxs)("table",{className:"table-3d",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Specialization"}),(0,l.jsx)("th",{children:"Location"}),(0,l.jsx)("th",{children:"Fee"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsxs)("tbody",{children:[0===u.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"No doctors yet"})}),u.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{style:{color:"var(--text-primary)",fontWeight:500},children:["Dr. ",e.fullname]}),(0,l.jsx)("td",{children:e.specialization}),(0,l.jsx)("td",{style:{fontSize:"0.82rem"},children:e.address}),(0,l.jsxs)("td",{style:{color:"var(--teal)",fontWeight:600},children:["\u20b9",e.fees]}),(0,l.jsx)("td",{children:d(e.status)}),(0,l.jsx)("td",{children:"pending"===e.status&&(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,l.jsx)("button",{className:"btn-3d btn-success-3d btn-sm-3d",disabled:m===e._id,onClick:()=>(async e=>{x(e);try{const t=localStorage.getItem("token");await n.A.put("/api/admin/doctors/approve",{doctorId:e},{headers:{Authorization:"Bearer ".concat(t)}}),s.A.success("Doctor approved!"),g()}catch(t){s.A.error("Failed")}finally{x(null)}})(e._id),children:"\u2713 Approve"}),(0,l.jsx)("button",{className:"btn-3d btn-danger-3d btn-sm-3d",disabled:m===e._id,onClick:()=>(async e=>{x(e);try{const t=localStorage.getItem("token");await n.A.put("/api/admin/doctors/reject",{doctorId:e},{headers:{Authorization:"Bearer ".concat(t)}}),s.A.success("Doctor rejected"),g()}catch(t){s.A.error("Failed")}finally{x(null)}})(e._id),children:"\u2715 Reject"})]})})]},e._id))]})]}),"users"===h&&(0,l.jsxs)("table",{className:"table-3d",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Phone"}),(0,l.jsx)("th",{children:"Role"}),(0,l.jsx)("th",{children:"Doctor?"})]})}),(0,l.jsxs)("tbody",{children:[0===b.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:5,style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"No users yet"})}),b.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{color:"var(--text-primary)",fontWeight:500},children:e.name}),(0,l.jsx)("td",{style:{fontSize:"0.82rem"},children:e.email}),(0,l.jsx)("td",{children:e.phone}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"badge-3d badge-approved",style:{fontSize:"0.68rem"},children:e.type})}),(0,l.jsx)("td",{children:e.isdoctor?(0,l.jsx)("span",{className:"badge-3d badge-approved",children:"Yes"}):(0,l.jsx)("span",{style:{color:"var(--text-muted)",fontSize:"0.82rem"},children:"No"})})]},e._id))]})]})]})]})]})}},233(e,t,a){a.d(t,{A:()=>d});a(43);var r=a(216),n=a(579);const s=e=>{let{d:t}=e;return(0,n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:t})})},o=[{path:"/user/dashboard",label:"Home",icon:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"},{path:"/user/appointments",label:"My Appointments",icon:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"},{path:"/user/notifications",label:"Notifications",icon:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0"},{path:"/user/apply-doctor",label:"Apply as Doctor",icon:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2M12 7a4 4 0 100 8 4 4 0 000-8z"},{path:"/user/profile",label:"My Profile",icon:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z"}],i=[{path:"/doctor/dashboard",label:"Dashboard",icon:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"},{path:"/doctor/appointments",label:"Appointments",icon:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"},{path:"/doctor/profile",label:"My Profile",icon:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z"},{path:"/doctor/notifications",label:"Notifications",icon:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0"}],l=[{path:"/admin/dashboard",label:"Overview",icon:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"},{path:"/admin/users",label:"Users",icon:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 7a4 4 0 100 8 4 4 0 000-8z"},{path:"/admin/doctors",label:"Doctors",icon:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2M12 7a4 4 0 100 8 4 4 0 000-8zM22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"},{path:"/admin/appointments",label:"Appointments",icon:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"}],d=e=>{let{role:t="user",notifCount:a=0}=e;const d=(0,r.Zp)(),c=(0,r.zy)(),h="admin"===t?l:"doctor"===t?i:o;return(0,n.jsxs)("aside",{className:"sidebar-3d",children:[(0,n.jsx)("div",{className:"sidebar-logo",onClick:()=>d("/"),style:{cursor:"pointer"},children:"\u2b21 DocSpot"}),(0,n.jsx)("div",{className:"sidebar-section-title",children:"admin"===t?"Admin Panel":"doctor"===t?"Doctor Panel":"Patient Panel"}),(0,n.jsx)("nav",{style:{flex:1},children:h.map(e=>(0,n.jsxs)("div",{className:"sidebar-nav-item ".concat(c.pathname===e.path?"active":""),onClick:()=>d(e.path),children:[(0,n.jsx)(s,{d:e.icon}),(0,n.jsx)("span",{style:{flex:1},children:e.label}),"Notifications"===e.label&&a>0&&(0,n.jsx)("span",{style:{background:"var(--danger)",color:"#fff",borderRadius:"100px",fontSize:"0.65rem",padding:"0.1rem 0.45rem",fontWeight:700},children:a})]},e.path))}),(0,n.jsx)("div",{style:{borderTop:"1px solid var(--border)",paddingTop:"1rem",marginTop:"1rem"},children:(0,n.jsxs)("div",{className:"sidebar-nav-item",style:{color:"var(--danger)"},onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),d("/login")},children:[(0,n.jsx)(s,{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"}),"Logout"]})})]})}},291(e,t,a){a.d(t,{IM:()=>s,PI:()=>n,Yq:()=>r});const r=e=>{if(!e)return"\u2014";const t=new Date(e);return isNaN(t)?e:t.toLocaleString("en-IN",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},n=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t))return"";const a=Date.now()-t.getTime(),r=Math.abs(a),n=Math.floor(r/6e4),s=Math.floor(r/36e5),o=Math.floor(r/864e5);return n<1?"just now":n<60?"".concat(n," min").concat(n>1?"s":""," ago"):s<24?"".concat(s," hour").concat(s>1?"s":""," ago"):o<30?"".concat(o," day").concat(o>1?"s":""," ago"):(e=>{if(!e)return"\u2014";const t=new Date(e);return isNaN(t)?e:t.toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})(e)},s=e=>{if(!e)return"\u2014";const t=new Date(e);return isNaN(t)?e:t.toLocaleString("en-IN",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}},457(e,t,a){a.d(t,{A:()=>o});let r=null;const n={success:{bg:"rgba(16,185,129,0.12)",border:"rgba(16,185,129,0.35)",color:"#10b981",icon:"\u2713"},error:{bg:"rgba(244,63,94,0.12)",border:"rgba(244,63,94,0.35)",color:"#f43f5e",icon:"\u2715"},info:{bg:"rgba(14,165,233,0.12)",border:"rgba(14,165,233,0.35)",color:"#0ea5e9",icon:"\u2139"},warning:{bg:"rgba(245,158,11,0.12)",border:"rgba(245,158,11,0.35)",color:"#f59e0b",icon:"\u26a0"}},s=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const s=(r||(r=document.createElement("div"),r.id="toast-root",Object.assign(r.style,{position:"fixed",top:"1.2rem",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",pointerEvents:"none"}),document.body.appendChild(r)),r),o=n[e]||n.info,i=document.createElement("div");Object.assign(i.style,{display:"flex",alignItems:"center",gap:"0.6rem",padding:"0.65rem 1.2rem",borderRadius:"100px",border:"1px solid ".concat(o.border),background:o.bg,color:o.color,fontSize:"0.88rem",fontWeight:"500",fontFamily:"DM Sans, sans-serif",backdropFilter:"blur(16px)",boxShadow:"0 4px 24px rgba(0,0,0,0.3)",whiteSpace:"nowrap",opacity:"0",transform:"translateY(-8px)",transition:"opacity 0.25s ease, transform 0.25s ease",pointerEvents:"auto"}),i.innerHTML='<span style="font-size:0.9rem">'.concat(o.icon,"</span><span>").concat(t,"</span>"),s.appendChild(i),requestAnimationFrame(()=>{i.style.opacity="1",i.style.transform="translateY(0)"}),setTimeout(()=>{i.style.opacity="0",i.style.transform="translateY(-8px)",setTimeout(()=>i.remove(),280)},a)},o={success:(e,t)=>s("success",e,t),error:(e,t)=>s("error",e,t),info:(e,t)=>s("info",e,t),warning:(e,t)=>s("warning",e,t)}}}]);
//# sourceMappingURL=64.c13c7b19.chunk.js.map